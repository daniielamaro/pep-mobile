{"version":3,"sources":["./src/app/page/exame/criar-exame/criar-exame-routing.module.ts","./src/app/page/exame/criar-exame/criar-exame.module.ts","./src/app/page/exame/criar-exame/criar-exame.page.ts","./src/app/page/exame/criar-exame/criar-exame.page.scss","./src/app/page/exame/criar-exame/criar-exame.page.html"],"names":[],"mappings":"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","file":"src_app_page_exame_criar-exame_criar-exame_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CriarExamePage } from './criar-exame.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CriarExamePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CriarExamePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CriarExamePageRoutingModule } from './criar-exame-routing.module';\n\nimport { CriarExamePage } from './criar-exame.page';\nimport { ExameService } from '../exame.service';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CriarExamePageRoutingModule\n  ],\n  declarations: [CriarExamePage],\n  providers: [\n    ExameService\n  ]\n})\nexport class CriarExamePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { NavigationEnd, Router } from '@angular/router';\nimport { ModalController, ToastController } from '@ionic/angular';\nimport { LoadingPage } from 'src/app/loading/loading.page';\nimport { StorageService } from 'src/app/shared/class/storage.service';\nimport { UrlService } from 'src/app/shared/class/url-service';\nimport { ExameService } from '../exame.service';\n\n@Component({\n  selector: 'app-criar-exame',\n  templateUrl: './criar-exame.page.html',\n  styleUrls: ['./criar-exame.page.scss'],\n})\nexport class CriarExamePage implements OnInit {\n\n  tiposExames: any;\n  user: any;\n\n  dataExame: any;\n  tipoExame: any;\n  publico: any;\n  arquivo: any;\n  observacoes: any;\n\n  constructor(\n    private exameService: ExameService,\n    public modalController: ModalController,\n    public toastController: ToastController,\n    private urlService: UrlService,\n    private router: Router,\n    private storage: StorageService)\n  {\n    this.router.events.subscribe((evt) => {\n      if (evt instanceof NavigationEnd && this.router.url == \"/page/criar-exame\") {\n         this.pageEnter();\n      }\n    });\n  }\n\n  async ngOnInit() { }\n\n  async pageEnter(){\n    this.getTiposExames();\n    this.user = await this.storage.get(\"user\");\n    let token = await this.storage.get(\"token\");\n    await this.urlService.validateToken(token);\n  }\n\n  async getTiposExames(){\n    this.showLoadingScreen()\n      .then(async () => {\n        (await this.exameService.consultarListaTiposExames())\n          .subscribe((resp: any) => {\n            this.tiposExames = resp;\n          },\n          error => {\n            if(error.status == 401 || error.status == 403){\n              this.storage.remove(\"user\");\n              this.router.navigateByUrl(\"\");\n            }\n            else{\n              this.toastController.create({\n                message: error.error,\n                duration: 5000\n              }).then(toast => {\n                toast.present();\n              });\n            }\n          },\n          () => {\n            this.closeLoadingScreen();\n          });\n        });\n  }\n\n  fileChange(e){\n    let arquivoPre = e.target.files[0];\n    let reader = new FileReader();\n    reader.readAsDataURL(arquivoPre);\n    reader.onload = () => {\n      this.arquivo = {\n        name: arquivoPre.name,\n        type: arquivoPre.type,\n        binary: reader.result.toString().split(';')[1].split(',')[1]\n      };\n    };\n  }\n\n  async salvarExame(){\n    this.showLoadingScreen()\n      .then(async () => {\n        let request = {\n          arquivo: this.arquivo == undefined ? null : {\n            nome: this.arquivo.name,\n            tipo: this.arquivo.type,\n            binario: this.arquivo.binary\n          },\n          dataRealizacao: this.dataExame.split(\"T\")[0],\n          idPaciente: this.user.id,\n          idTipoExame: this.tipoExame,\n          publico: this.publico,\n          observacoes: this.observacoes\n        };\n\n        this.arquivo = undefined;\n        this.dataExame = undefined;\n        this.tipoExame = undefined;\n        this.publico = false;\n        this.observacoes = undefined;\n\n        (await this.exameService.salvarExame(request))\n          .subscribe(() => {\n            this.router.navigateByUrl(\"/page/exames\");\n          },\n          error => {\n            if(error.status == 401 || error.status == 403){\n              this.storage.remove(\"user\");\n              this.router.navigateByUrl(\"\");\n            }else{\n              this.toastController.create({\n                message: error.error,\n                duration: 5000\n              }).then(toast => {\n                toast.present();\n              });\n            }\n          },\n          () => {\n            this.closeLoadingScreen();\n          });\n      });\n  }\n\n  async showLoadingScreen() {\n    const loadingScreen = await this.modalController.create({\n      component: LoadingPage\n    });\n    return await loadingScreen.present();\n  }\n\n  async closeLoadingScreen() {\n    this.modalController.getTop().then(loader => {\n      if (loader) {\n        loader.dismiss();\n      }\n    });\n  }\n\n}\n","export default \".content {\\n  margin-top: 13vh;\\n  width: 100%;\\n  height: 77vh;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.listaTipo {\\n  --placeholder-opacity: 0.5;\\n}\\n\\n.item-form {\\n  display: flex;\\n  justify-content: flex-start;\\n  align-items: center;\\n}\\n\\n.item-form-center {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyaWFyLWV4YW1lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBQ0Y7O0FBRUE7RUFDRSwwQkFBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLDJCQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBQ0YiLCJmaWxlIjoiY3JpYXItZXhhbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRlbnR7XHJcbiAgbWFyZ2luLXRvcDogMTN2aDtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDc3dmg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5saXN0YVRpcG97XHJcbiAgLS1wbGFjZWhvbGRlci1vcGFjaXR5OiAwLjU7XHJcbn1cclxuXHJcbi5pdGVtLWZvcm17XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLml0ZW0tZm9ybS1jZW50ZXJ7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbiJdfQ== */\";","export default \"<ion-content>\\n  <div class=\\\"content\\\">\\n    <ion-grid style=\\\"width: 90%;\\\">\\n      <ion-row>\\n        <ion-col class=\\\"item-form\\\" size=\\\"12\\\">\\n          <ion-label color=\\\"primary\\\">Tipo de Exame: </ion-label>\\n          <ion-select *ngIf=\\\"tiposExames && tiposExames.length > 0\\\" [(ngModel)]=\\\"tipoExame\\\" class=\\\"listaTipo\\\" placeholder=\\\"Selecione...\\\">\\n            <ion-select-option *ngFor=\\\"let tipo of tiposExames\\\" [value]=\\\"tipo.id\\\">{{tipo.nome}}</ion-select-option>\\n          </ion-select>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"item-form\\\" size=\\\"12\\\">\\n          <ion-label color=\\\"primary\\\">Data do Exame: </ion-label>\\n          <ion-datetime displayFormat=\\\"DD / MMM / YYYY\\\" [(ngModel)]=\\\"dataExame\\\" placeholder=\\\"Selecione...\\\"></ion-datetime>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"item-form\\\" size=\\\"12\\\">\\n          <ion-label color=\\\"primary\\\">Publico:</ion-label>\\n          <ion-toggle [(ngModel)]=\\\"publico\\\"></ion-toggle>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"item-form\\\" size=\\\"12\\\">\\n          <ion-label color=\\\"primary\\\">Exame:</ion-label>\\n          <ion-input (change)=\\\"fileChange($event)\\\" type=\\\"file\\\"></ion-input>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"item-form\\\" size=\\\"12\\\">\\n          <ion-textarea [(ngModel)]=\\\"observacoes\\\" rows=\\\"7\\\" style=\\\"--padding-start: 0; --padding-end: 0\\\" placeholder=\\\"Escreva as suas observações...\\\"></ion-textarea>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col class=\\\"item-form-center\\\" size=\\\"12\\\">\\n          <ion-button (click)=\\\"salvarExame()\\\" color=\\\"primary\\\" expand=\\\"block\\\">Salvar Exame</ion-button>\\n        </ion-col>\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}